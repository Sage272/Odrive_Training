<MainScreen>:

    name: 'main'
    FloatLayout:
        size_hint: None, None

    Slider:
        id: velocity_slider
        min: -100
        max: 100
        step: 1
        y: root.height * (3/12)
        size_hint: (1, 0.2)
        on_touch_up: root.adjust_velocity()
        on_touch_move: root.adjust_velocity()

    BetterImageButton:
        id: velocity_slider_button
        size: root.btn_x * 2/3, root.btn_y * 2/3
        center_x: (root.width * (1/2))
        center_y: (root.height * (11/24))
        color: 1, 1, 1, 1
        source: "WhiteButtonWithBlackBorder.png"
        mouseover: False

    Label:
        id: velocity_slider_button_text
        halign: 'center'
        font_size: velocity_slider_button.width/3
        text: str(int(-velocity_slider.value)) + "%\nCCW" if velocity_slider.value < 0 else str(int(velocity_slider.value)) + "%\nCW" if velocity_slider.value > 0 else str(int(velocity_slider.value)) + "%\nVel"
        color: 0, 0, 0, 1
        pos_hint: {"y": -(1/24)}

    Slider:
        id: acceleration_slider
        min: 0
        max: 100
        step: 1
        y: root.height * (1/24)
        size_hint: (1, 0.1)
        on_touch_up: root.adjust_acceleration()
        on_touch_move: root.adjust_acceleration()

    BetterImageButton:
        id: acceleration_slider_button
        size: root.btn_x * 2/3, root.btn_y * 2/3
        center_x: (root.width * (1/2))
        center_y: (root.height * (5/24))
        color: 1, 1, 1, 1
        source: "WhiteButtonWithBlackBorder.png"
        mouseover: False

    Label:
        id: acceleration_slider_button_text
        halign: 'center'
        font_size: acceleration_slider_button.width/3
        text: (str(int(-acceleration_slider.value)) if acceleration_slider.value < 0 else str(int(acceleration_slider.value)) if acceleration_slider.value > 0 else str(int(acceleration_slider.value))) + "%\nAcc"
        color: 0, 0, 0, 1
        pos_hint: {"y": -(7/24)}

    BetterImageButton:
        id: GPIO_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (1/6))
        center_y: (root.height * (2/3))
        on_press: root.switch_to_gpio()
        source: "WhiteButtonWithBlackBorder.png"
        mouseover: False

    Label:
        id: GPIO_button_text
        halign: 'center'
        font_size: GPIO_button.width/4
        text: "GPIO\nScreen"
        color: 0, 0, 0, 1
        pos_hint: {"x": -(1/3), "y": (1/6)}

    BetterImageButton:
        id: rotate_five_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (1/2))
        center_y: (root.height * (2/3))
        source: "WhiteButtonWithBlackBorder.png"
        on_press: root.rotate_five()

    Label:
        id: rotate_five_button_text
        halign: 'center'
        font_size: rotate_five_button.width/4
        text: "Rotate\nFive"
        color: 0, 0, 0, 1
        pos_hint: {"y": (1/6)}

    BetterImageButton:
        id: trajectory_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (5/6))
        center_y: (root.height * (2/3))
        color: 1, 1, 1, 1
        source: "WhiteButtonWithBlackBorder.png"
        on_press: root.switch_to_traj()
        mouseover: False

    Label:
        id: trajectory_button_text
        halign: 'center'
        font_size: trajectory_button.width/4
        text: "Traje-\nctory\nScreen"
        color: 0, 0, 0, 1
        pos_hint: {"x": (1/3), "y": (1/6)}

    Label:
        id: run_fn_once
        size: 10, 10
        halign: 'center'
        text: "True"
        color: 0, 0, 0, 1
        pos_hint: {"x": 2, "y": 2}

<Slider>:
    cursor_image: "SliderKnob.png"
    value_track: True
    value_track_color: 0.5, 0.5, 0.5, 1

<TrajectoryScreen>:

    name: 'main'
    FloatLayout:
        size_hint: None, None

    BetterImageButton:
        id: accel_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (1/5))
        center_y: (root.height * (2/3))
        source: "WhiteButtonWithBlackBorder.png"
        #on_press: root.rotate_five()

    TextInput:
        id: accel_button_text_input
        halign: 'center'
        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        font_size: accel_button.width/5
        text: "Enter\nAccel\nHere"
        color: 0, 0, 0, 1
        center_x: (root.width * (1/5))
        center_y: (root.height * (2/3))
        size_hint: (100/root.width, 100/root.height)
        background_color: 1, 1, 1, 0

    Label:
        id: accel_button_text
        halign: 'center'
        font_size: accel_button.width/5
        text: "Accel in rev/s^2:"
        color: 0, 0, 0, 1
        pos_hint: {"y": (7/24), "x": (-1.5/5)}

    BetterImageButton:
        id: velocity_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (2/5))
        center_y: (root.height * (2/3))
        source: "WhiteButtonWithBlackBorder.png"

    TextInput:
        id: velocity_button_text_input
        halign: 'center'
        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        font_size: velocity_button.width/5
        text: "Enter\nVelocity\nHere"
        color: 0, 0, 0, 1
        center_x: (root.width * (2/5))
        center_y: (root.height * (2/3))
        size_hint: (100/root.width, 100/root.height)
        background_color: 1, 1, 1, 0

    Label:
        id: velocity_button_text
        halign: 'center'
        font_size: velocity_button.width/5
        text: "Velocity:"
        color: 0, 0, 0, 1
        pos_hint: {"y": (7/24), "x": (-0.5/5)}

    BetterImageButton:
        id: decel_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (3/5))
        center_y: (root.height * (2/3))
        source: "WhiteButtonWithBlackBorder.png"

    TextInput:
        id: decel_button_text_input
        halign: 'center'
        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        font_size: decel_button.width/5
        text: "Enter\nDecel\nHere"
        color: 0, 0, 0, 1
        center_x: (root.width * (3/5))
        center_y: (root.height * (2/3))
        size_hint: (100/root.width, 100/root.height)
        background_color: 1, 1, 1, 0

    Label:
        id: decel_button_text
        halign: 'center'
        font_size: decel_button.width/5
        text: "Decel in rev/s^2:"
        color: 0, 0, 0, 1
        pos_hint: {"y": (7/24), "x": (0.5/5)}

    BetterImageButton:
        id: pos_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (4/5))
        center_y: (root.height * (2/3))
        source: "WhiteButtonWithBlackBorder.png"

    TextInput:
        id: pos_button_text_input
        halign: 'center'
        padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
        font_size: pos_button.width/5
        text: "Enter\nPos\nHere"
        color: 0, 0, 0, 1
        center_x: (root.width * (4/5))
        center_y: (root.height * (2/3))
        size_hint: (100/root.width, 100/root.height)
        background_color: 1, 1, 1, 0

    Label:
        id: pos_button_text
        halign: 'center'
        font_size: pos_button.width/5
        text: "Rel pos to\nmove in revs:"
        color: 0, 0, 0, 1
        pos_hint: {"y": (7/24), "x": (1.5/5)}

    BetterImageButton:
        id: back_button
        size: 50, 50
        center_x: (root.width * (1/16))
        center_y: (root.height * (15/16))
        source: "WhiteButtonWithBlackBorder.png"
        on_press: root.switch_screen()
        mouseover: False

    Label:
        id: back_button_text
        halign: 'center'
        font_size: back_button.width/3
        text: "Back\n<-"
        color: 0, 0, 0, 1
        pos_hint: {"x": -(7/16), "y": (7/16)}

    BetterImageButton:
        id: submit_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (1/2))
        center_y: (root.height * (11/24))
        color: 0.4, 0.4, 0.4, 1
        source: "WhiteButtonWithBlackBorder.png"
        mouseover: False
        on_press: root.trap_traj()

    Label:
        id: submit_button_text
        halign: 'center'
        font_size: submit_button.width/5
        text: "Submit"
        color: 1, 1, 1, 1
        pos_hint: {"y": -(1/24)}

<GPIOScreen>:

    name: 'main'
    FloatLayout:
        size_hint: None, None

    BetterImageButton:
        id: back_button
        size: 50, 50
        center_x: (root.width * (15/16))
        center_y: (root.height * (15/16))
        source: "WhiteButtonWithBlackBorder.png"
        on_press: root.switch_screen()
        mouseover: False

    Label:
        id: back_button_text
        halign: 'center'
        font_size: back_button.width/3
        text: "Back\n->"
        color: 0, 0, 0, 1
        pos_hint: {"x": (7/16), "y": (7/16)}

    BetterImageButton:
        id: submit_button
        size: root.btn_x, root.btn_y
        center_x: (root.width * (1/2))
        center_y: (root.height * (1/2))
        color: 0.4, 0.4, 0.4, 1
        source: "WhiteButtonWithBlackBorder.png"
        mouseover: False
        on_press: root.start_GPIO()

    Label:
        id: submit_button_text
        halign: 'center'
        font_size: submit_button.width/4
        text: "Start\nGPIO\nTest"
        color: 1, 1, 1, 1